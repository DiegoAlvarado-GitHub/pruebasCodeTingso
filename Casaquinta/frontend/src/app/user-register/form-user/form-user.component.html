
<div class="cardTitle">
</div>

<div class="Contenido">
    

        <div class= "terapiaSesion" *ngIf ="loadingRoles; else cargando">
            <mat-form-field appearance="fill">
                <mat-label>Rol Usuario</mat-label>
                <mat-select [formControl] = "rol" required>
                    <mat-option *ngFor="let rol of roles; index as i"  [value]= rol.id >
                        {{rol.tipo_rol}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>

        <form [formGroup]="formUsuario">
        <div>
            <mat-form-field appearance="fill">
                <mat-label>Nombre</mat-label>
                <input matInput formControlName= "nombre" required>
            </mat-form-field>

            <mat-form-field appearance="fill">
                <mat-label>Apellidos</mat-label>
                <input matInput formControlName= "apellidos" required>
            </mat-form-field>
        </div>
        
        <div>
            <mat-form-field appearance="fill">
                <mat-label>Rut</mat-label>
                <input matInput formControlName= "rut" type="number" required>
            </mat-form-field>
        </div>

        <div>
            <mat-form-field appearance="fill">
                <mat-label>Correo</mat-label>
                <input matInput formControlName= "correo" required>
            </mat-form-field>
        </div>



        
    </form>
    <!-- Terepias -> sera un checkbox -->
    <div *ngIf ="loadingTerapias; else cargando">
        <mat-label>Terapias</mat-label>
        <div  *ngFor="let terapia of terapias; index as i">
            <mat-checkbox [formControl] = "formTerapias.controls[i]">
                {{terapia.tipo_terapia}}
            </mat-checkbox>
        </div>    
    </div>

    <ng-template #cargando>
        cargando
    </ng-template>

    <button (click)="onSubmit()" mat-raised-button>Crear Usuario</button>
    
    
    
</div>

<!-- <mat-form-field appearance="fill">
    <mat-label>Nombre</mat-label>
    <input #nombre matInput>
</mat-form-field>

<mat-form-field appearance="fill">
    <mat-label>Correo</mat-label>
    <input #correo matInput>
</mat-form-field>



<div class= "terapiaSesion">
    <h3>Terapia</h3>
    <mat-form-field appearance="fill">
        <mat-label>Especialidad</mat-label>
        <mat-select #especialidad>
        <mat-option *ngFor="let tta of terapias" [value]="tta.name">
            {{tta.name}}
        </mat-option>
        </mat-select>
    </mat-form-field>
</div>

<mat-form-field appearance="fill">
    <mat-label>Contraseña</mat-label>
    <input #contrasena matInput [type]="hide1 ? 'password' : 'text'">
    <button mat-icon-button matSuffix (click)="hide1 = !hide1" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide1">
      <mat-icon>{{hide1 ? 'visibility_off' : 'visibility'}}</mat-icon>
    </button>
</mat-form-field>

<mat-form-field appearance="fill">
    <mat-label>Repita Contraseña</mat-label>
    <input #repetirContrasena matInput [type]="hide2 ? 'password' : 'text'">
    <button mat-icon-button matSuffix (click)="hide2 = !hide2" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide2">
      <mat-icon>{{hide2 ? 'visibility_off' : 'visibility'}}</mat-icon>
    </button>
</mat-form-field>


    <div class="divBotonRegistrar">
        <button (click)="crearUsuario(nombre.value, correo.value, especialidad.value, contrasena.value, repetirContrasena.value)" mat-raised-button>Crear Usuario</button>
    </div> -->








